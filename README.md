# VictoriaMetrics Lab

üìä **–ü—Ä–æ–µ–∫—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [VictoriaMetrics](https://victoriametrics.com/), [Grafana](https://grafana.com/) –∏ [vmagent], —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –≤ Docker. –°–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –†–¢–£ –ú–ò–†–≠–ê.

## üì¶ –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

- **VictoriaMetrics** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è TSDB (Time Series Database)
- **vmagent** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ TSDB
- **Grafana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤
- **node_exporter** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ —Ö–æ—Å—Ç–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
victoriametrics-lab/
‚îú‚îÄ‚îÄ config/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ vmagent –∏ –ø—Ä–æ—á–µ–µ
‚îú‚îÄ‚îÄ data/ # –•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç—Ä–∏–∫ (volume)
‚îú‚îÄ‚îÄ grafana/ # –î–∞–Ω–Ω—ã–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Grafana
‚îú‚îÄ‚îÄ logs/ # –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îú‚îÄ‚îÄ scripts/ # –°–∫—Ä–∏–ø—Ç—ã PowerShell (start/stop)
‚îú‚îÄ‚îÄ results/ # (–æ–ø—Ü.) –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ report/ # –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–∏–ø–ª–æ–º–∞
‚îú‚îÄ‚îÄ .env # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ start.ps1 # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ stop.ps1 # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```
## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> ‚ö†Ô∏è –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Docker](https://www.docker.com/) –∏ [Docker Compose](https://docs.docker.com/compose/)  
> ‚úÖ –ó–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∏–∑ PowerShell (Windows 11)

1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/<–≤–∞—à-–ª–æ–≥–∏–Ω>/victoriametrics-lab.git
cd victoriametrics-lab
```

2. –ó–∞–ø—É—Å—Ç–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

```bash
./start.ps1
```

3. –û—Ç–∫—Ä–æ—é—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- **VictoriaMetrics:** http://localhost:8428/vmui
- **Grafana:** http://localhost:3000

4. –ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```bash
./stop.ps1
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

- **vmagent** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –æ —Å–µ–±–µ –∏ –æ victoriametrics
- **node_exporter** —Å–æ–±–∏—Ä–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫)
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ Prometheus-–º–µ—Ç—Ä–∏–∫

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Grafana

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ –Ω–∞ [http://localhost:3000](http://localhost:3000) –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∞ —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞.

> –ò—Å–ø–æ–ª—å–∑—É–π –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å:
>
> - **Username:** `admin`
> - **Password:** `admin`

Grafana —Å—Ä–∞–∑—É –∂–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å. –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## üìä –î–∞—à–±–æ—Ä–¥—ã Grafana

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–∞—à–±–æ—Ä–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Grafana:

- **Node Exporter Full** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU, –ø–∞–º—è—Ç–∏, –¥–∏—Å–∫–æ–≤, —Å–µ—Ç–∏
- **VictoriaMetrics - single-node** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ TSDB

–§–∞–π–ª—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
`grafana/dashboards/`

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ (`./start.ps1`) –æ–Ω–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Grafana: \
**Dashboards ‚Üí Browse ‚Üí General**

## üß™ TODO / —Ä–∞–∑–≤–∏—Ç–∏–µ

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–æ–≤
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á—ë—Ç –æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ TSDB

## üßë‚Äçüéì –ê–≤—Ç–æ—Ä
**[dixit12833]** \
–¢–µ–º–∞: –°–∏—Å—Ç–µ–º—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ VictoriaMetrics